{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/ui/Thunder.tsx"],"sourcesContent":["export default function Thunder() {\n  return (\n    <div className=\"thunder-container h-[400px] w-[400px]  rounded-full\">\n      <div className=\"h-[400px]  w-[400px] flex items-center justify-center rounded-full border-2 border-amber-300\">\n        <div className=\"thunder  relative flex items-center justify-center    h-[300px] w-[300px] \">\n          <div className=\"thunder-item\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;AAKzB","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/lib/signup.ts"],"sourcesContent":["\"use server\";\nimport bcrypt from \"bcrypt\";\nimport prisma from \"../../../prisma/seed.\";\nimport jwt from \"jsonwebtoken\";\nimport { cookies } from \"next/headers\";\n\ntype ErrorsStateValidator = {\n  hasUser?: boolean;\n  passwordLength?: boolean;\n  propertyExisted?: boolean;\n};\n\nexport default async function signup(\n  state: { errors: ErrorsStateValidator },\n  fd: FormData\n): Promise<typeof state> {\n  let errors: ErrorsStateValidator = {} as ErrorsStateValidator;\n  const data = {\n    username: fd.get(\"username\") as string,\n    password: fd.get(\"password\") as string,\n    email: fd.get(\"email\") as string,\n  };\n  if (!data.username || !data.password || !data.email) {\n    errors = { ...errors, propertyExisted: true };\n  } else if (data.password.length <= 5) {\n    errors = { ...errors, passwordLength: true };\n  } else {\n    const findUser = await prisma.user.findFirst({\n      where: {\n        OR: [{ username: data.username }, { email: data.email }],\n      },\n    });\n\n    if (findUser) {\n      errors = { ...errors, hasUser: true };\n    } else {\n      const hashPassword = await bcrypt.hash(data.password, 10);\n      await prisma.user.create({\n        data: {\n          ...data,\n          password: hashPassword,\n        },\n      });\n      console.log(2);\n      const jwtKey = await jwt.sign(data.password, process.env.SECRET_KEY!);\n      const cookie = await cookies();\n      cookie.set(\"jwt\", jwtKey);\n      errors = { ...errors, propertyExisted: true };\n    }\n  }\n  return { errors };\n}\n"],"names":[],"mappings":";;;;;;kQAY8B,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/ui/SignUpModal.tsx"],"sourcesContent":["\"use client\";\nimport { X } from \"lucide-react\";\nimport { useActionState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport signup from \"../lib/signup\";\n\nexport default function SignUpModal({\n  setSignFlag,\n  setLogFlag,\n}: {\n  setSignFlag: (arg: boolean) => void;\n  setLogFlag: (arg: boolean) => void;\n}) {\n  const [state, action] = useActionState(signup, {\n    errors: {},\n  });\n  const handleOpenOtherModal = () => {\n    setSignFlag(false);\n    setLogFlag(true);\n  };\n  return createPortal(\n    <div id=\"modal\">\n      <form\n        className=\"gap-10 text-black bg-white flex flex-col pt-5 pb-5 pl-10 pr-10 rounded-[10px]\"\n        action={action}\n        onSubmit={(e) => {\n          console.log(state);\n          if (state.errors) {\n            e.preventDefault();\n          }\n        }}>\n        <button\n          className=\"cursor-pointer w-[30px] hover:opacity-65\"\n          onClick={() => setSignFlag(false)}\n          type=\"button\">\n          <X size={30} />\n        </button>\n        <h3>Sign Up</h3>\n        <label htmlFor=\"username\">\n          Username\n          <input\n            className=\"border-2 pl-2 border-(--color-foreground) pt-1 pb-1 rounded-[10px]  w-1/1 \"\n            type=\"text\"\n            name=\"username\"\n          />\n        </label>\n        <label htmlFor=\"email\">\n          Email\n          <input\n            className=\"border-2 pl-2 pt-1 border-(--color-foreground) pb-1 rounded-[10px]  w-1/1 \"\n            type=\"email\"\n            name=\"email\"\n          />\n        </label>\n        <label htmlFor=\"password\">\n          Password\n          <input\n            className=\"border-2 pl-2 border-(--color-foreground) pt-1 pb-1 rounded-[10px]  w-1/1 \"\n            type=\"password\"\n            name=\"password\"\n          />\n        </label>\n        <ul>\n          {state.errors.passwordLength && (\n            <li className=\"text-red-500\">Min password length is 6.</li>\n          )}\n          {state.errors.propertyExisted && (\n            <li className=\"text-red-500\">One of some property is existed.</li>\n          )}\n          {state.errors.hasUser && (\n            <li className=\"text-red-500\">Username or email is used.</li>\n          )}\n        </ul>\n        <p>\n          If you have registered account,just{\" \"}\n          <button\n            className=\"text-(--color-foreground) cursor-pointer underline \"\n            onClick={handleOpenOtherModal}>\n            log in\n          </button>{\" \"}\n          him.{\" \"}\n        </p>\n        <button\n          className=\"cursor-pointer border-2 border-(--color-foreground) bg-(--color-foreground) text-white p-3 rounded-[10px] transition-colors delay-100 hover:text-(--color-foreground) hover:border-2 hover:border-(--color-foreground) hover:bg-white active:opacity-40\"\n          type=\"submit\">\n          Sign Up\n        </button>\n      </form>\n    </div>,\n    document.body!\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS,YAAY,EAClC,WAAW,EACX,UAAU,EAIX;IACC,MAAM,CAAC,OAAO,OAAO,GAAG,CAAA,GAAA,qMAAA,CAAA,iBAAc,AAAD,EAAE,yJAAA,CAAA,UAAM,EAAE;QAC7C,QAAQ,CAAC;IACX;IACA,MAAM,uBAAuB;QAC3B,YAAY;QACZ,WAAW;IACb;IACA,qBAAO,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,gBAChB,8OAAC;QAAI,IAAG;kBACN,cAAA,8OAAC;YACC,WAAU;YACV,QAAQ;YACR,UAAU,CAAC;gBACT,QAAQ,GAAG,CAAC;gBACZ,IAAI,MAAM,MAAM,EAAE;oBAChB,EAAE,cAAc;gBAClB;YACF;;8BACA,8OAAC;oBACC,WAAU;oBACV,SAAS,IAAM,YAAY;oBAC3B,MAAK;8BACL,cAAA,8OAAC,4LAAA,CAAA,IAAC;wBAAC,MAAM;;;;;;;;;;;8BAEX,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;oBAAM,SAAQ;;wBAAW;sCAExB,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,MAAK;;;;;;;;;;;;8BAGT,8OAAC;oBAAM,SAAQ;;wBAAQ;sCAErB,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,MAAK;;;;;;;;;;;;8BAGT,8OAAC;oBAAM,SAAQ;;wBAAW;sCAExB,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,MAAK;;;;;;;;;;;;8BAGT,8OAAC;;wBACE,MAAM,MAAM,CAAC,cAAc,kBAC1B,8OAAC;4BAAG,WAAU;sCAAe;;;;;;wBAE9B,MAAM,MAAM,CAAC,eAAe,kBAC3B,8OAAC;4BAAG,WAAU;sCAAe;;;;;;wBAE9B,MAAM,MAAM,CAAC,OAAO,kBACnB,8OAAC;4BAAG,WAAU;sCAAe;;;;;;;;;;;;8BAGjC,8OAAC;;wBAAE;wBACmC;sCACpC,8OAAC;4BACC,WAAU;4BACV,SAAS;sCAAsB;;;;;;wBAEvB;wBAAI;wBACT;;;;;;;8BAEP,8OAAC;oBACC,WAAU;oBACV,MAAK;8BAAS;;;;;;;;;;;;;;;;cAKpB,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/ui/LogInModal.tsx"],"sourcesContent":["import { X } from \"lucide-react\";\nimport { createPortal } from \"react-dom\";\n\nexport default function LogInModal({\n  setSignFlag,\n  setLogFlag,\n}: {\n  setSignFlag: (arg: boolean) => void;\n  setLogFlag: (arg: boolean) => void;\n}) {\n  const handleOpenOtherModal = () => {\n    setSignFlag(true);\n    setLogFlag(false);\n  };\n  return createPortal(\n    <div id=\"modal\">\n      <form\n        className=\"gap-10 text-black bg-white flex flex-col pt-5 pb-5 pl-10 pr-10 rounded-[10px]\"\n        action=\"\">\n        <button\n          className=\"cursor-pointer w-[30px] hover:opacity-65\"\n          onClick={() => setLogFlag(false)}\n          type=\"button\">\n          <X size={30} />\n        </button>\n        <h3>Log In</h3>\n        <label htmlFor=\"email\">\n          Email\n          <input\n            className=\"border-2 pl-2 pt-1 border-(--color-foreground) pb-1 rounded-[10px]  w-1/1 \"\n            type=\"email\"\n            name=\"email\"\n          />\n        </label>\n        <label htmlFor=\"password\">\n          Password\n          <input\n            className=\"border-2 pl-2 border-(--color-foreground) pt-1 pb-1 rounded-[10px]  w-1/1 \"\n            type=\"password\"\n            name=\"password\"\n          />\n        </label>\n        <p>\n          If you haven`t`account,just{\" \"}\n          <button\n            className=\"text-(--color-foreground) cursor-pointer underline \"\n            onClick={handleOpenOtherModal}>\n            sign up\n          </button>\n          .\n        </p>\n        <button\n          className=\"cursor-pointer border-2 border-(--color-foreground) bg-(--color-foreground) text-white p-3 rounded-[10px] transition-colors delay-100 hover:text-(--color-foreground) hover:border-2 hover:border-(--color-foreground) hover:bg-white active:opacity-40\"\n          type=\"submit\">\n          Log In\n        </button>\n      </form>\n    </div>,\n    document.body!\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS,WAAW,EACjC,WAAW,EACX,UAAU,EAIX;IACC,MAAM,uBAAuB;QAC3B,YAAY;QACZ,WAAW;IACb;IACA,qBAAO,CAAA,GAAA,4MAAA,CAAA,eAAY,AAAD,gBAChB,8OAAC;QAAI,IAAG;kBACN,cAAA,8OAAC;YACC,WAAU;YACV,QAAO;;8BACP,8OAAC;oBACC,WAAU;oBACV,SAAS,IAAM,WAAW;oBAC1B,MAAK;8BACL,cAAA,8OAAC,4LAAA,CAAA,IAAC;wBAAC,MAAM;;;;;;;;;;;8BAEX,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;oBAAM,SAAQ;;wBAAQ;sCAErB,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,MAAK;;;;;;;;;;;;8BAGT,8OAAC;oBAAM,SAAQ;;wBAAW;sCAExB,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,MAAK;;;;;;;;;;;;8BAGT,8OAAC;;wBAAE;wBAC2B;sCAC5B,8OAAC;4BACC,WAAU;4BACV,SAAS;sCAAsB;;;;;;wBAExB;;;;;;;8BAGX,8OAAC;oBACC,WAAU;oBACV,MAAK;8BAAS;;;;;;;;;;;;;;;;cAKpB,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/ui/NonAuth.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Thunder from \"./Thunder\";\nimport { createPortal } from \"react-dom\";\nimport SignUpModal from \"./SignUpModal\";\nimport LogInModal from \"./LogInModal\";\n\nexport default function NonAuth() {\n  const [signFlag, setSignFlag] = useState(false);\n  const [logFlag, setLogFlag] = useState(false);\n  return (\n    <div className=\"p-5 flex  flex-col justify-center h-screen\">\n      {signFlag && (\n        <SignUpModal setLogFlag={setLogFlag} setSignFlag={setSignFlag} />\n      )}\n      {logFlag && (\n        <LogInModal setLogFlag={setLogFlag} setSignFlag={setSignFlag} />\n      )}\n      <div className=\"flex justify-between \">\n        <h1 className=\"w-[500px]\">\n          Welcome to the ChatWheel.io.If you want start you must authorezed!\n        </h1>\n        <Thunder />\n      </div>\n      <div className=\"flex gap-5\">\n        <button\n          onClick={() => setSignFlag(true)}\n          className=\"bg-(--color-foreground) text-white w-[150px] h-[50px] cursor-pointer rounded-[10px] font-bold transition-[opacity] delay-75 hover:opacity-60\">\n          Sign Up\n        </button>\n        <button\n          onClick={() => setLogFlag(true)}\n          className=\" w-[150px] h-[50px] transition-[opacity] cursor-pointer cursor-pointerfont-bold  hover:opacity-60\">\n          Log In\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,qBACE,8OAAC;QAAI,WAAU;;YACZ,0BACC,8OAAC,gIAAA,CAAA,UAAW;gBAAC,YAAY;gBAAY,aAAa;;;;;;YAEnD,yBACC,8OAAC,+HAAA,CAAA,UAAU;gBAAC,YAAY;gBAAY,aAAa;;;;;;0BAEnD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAY;;;;;;kCAG1B,8OAAC,4HAAA,CAAA,UAAO;;;;;;;;;;;0BAEV,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,YAAY;wBAC3B,WAAU;kCAA+I;;;;;;kCAG3J,8OAAC;wBACC,SAAS,IAAM,WAAW;wBAC1B,WAAU;kCAAoG;;;;;;;;;;;;;;;;;;AAMxH","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/lib/cookiesFormat.tsx"],"sourcesContent":["export default function cookiesFormat(cookies: string) {\n  const cookieFormat: {\n    [key: string]: string;\n  } = {};\n  const cookiesSplit = cookies.split(\"; \");\n  cookiesSplit.forEach((val) => {\n    const parsedValue = val.split(\"=\");\n    cookieFormat[parsedValue[0]] = parsedValue[1];\n  });\n  return cookieFormat;\n}\n"],"names":[],"mappings":";;;AAAe,SAAS,cAAc,OAAe;IACnD,MAAM,eAEF,CAAC;IACL,MAAM,eAAe,QAAQ,KAAK,CAAC;IACnC,aAAa,OAAO,CAAC,CAAC;QACpB,MAAM,cAAc,IAAI,KAAK,CAAC;QAC9B,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,EAAE;IAC/C;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///home/daart/%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B8%D0%B9%20%D1%81%D1%82%D0%BE%D0%BB/file%20David%60s/web/Sites/ChatNextJS/my-app/src/app/page.tsx"],"sourcesContent":["// components/Chat.tsx\n\"use client\";\nimport { useEffect, useState } from \"react\";\nimport NonAuth from \"./ui/NonAuth\";\nimport cookiesFormat from \"./lib/cookiesFormat\";\nimport Head from \"next/head\";\n\nexport default function Home() {\n  const [hasJwt, setHasJwt] = useState(false);\n  useEffect(() => {\n    if (window) {\n      const cookies = cookiesFormat(document.cookie);\n      const jwt = cookies[\"jwt\"];\n      setHasJwt(jwt ? true : false);\n    }\n  }, []);\n  return <div>{hasJwt ? \"\" : <NonAuth />}</div>;\n}\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AAEtB;AACA;AACA;AAHA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,MAAM,UAAU,CAAA,GAAA,mIAAA,CAAA,UAAa,AAAD,EAAE,SAAS,MAAM;YAC7C,MAAM,MAAM,OAAO,CAAC,MAAM;YAC1B,UAAU,MAAM,OAAO;QACzB;IACF,GAAG,EAAE;IACL,qBAAO,8OAAC;kBAAK,SAAS,mBAAK,8OAAC,4HAAA,CAAA,UAAO;;;;;;;;;;AACrC","debugId":null}}]
}